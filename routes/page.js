const _0x255ae1 = _0x28c7; function _0x28c7(_0xda470, _0x59b6d9) { const _0x8b7827 = _0x8b78(); return _0x28c7 = function (_0x28c7af, _0x5a3c1a) { _0x28c7af = _0x28c7af - 0x13d; let _0xaf60cf = _0x8b7827[_0x28c7af]; return _0xaf60cf; }, _0x28c7(_0xda470, _0x59b6d9); } (function (_0x37d3d6, _0x23a5c0) { const _0x3ad131 = _0x28c7, _0xd504e4 = _0x37d3d6(); while (!![]) { try { const _0x59b4c0 = parseInt(_0x3ad131(0x13d)) / 0x1 + parseInt(_0x3ad131(0x14f)) / 0x2 * (-parseInt(_0x3ad131(0x155)) / 0x3) + -parseInt(_0x3ad131(0x150)) / 0x4 + parseInt(_0x3ad131(0x13f)) / 0x5 + parseInt(_0x3ad131(0x147)) / 0x6 * (parseInt(_0x3ad131(0x15b)) / 0x7) + -parseInt(_0x3ad131(0x153)) / 0x8 * (parseInt(_0x3ad131(0x141)) / 0x9) + parseInt(_0x3ad131(0x142)) / 0xa; if (_0x59b4c0 === _0x23a5c0) break; else _0xd504e4['push'](_0xd504e4['shift']()); } catch (_0x5ce1c0) { _0xd504e4['push'](_0xd504e4['shift']()); } } }(_0x8b78, 0xd5278)); function _0x8b78() { const _0x74225c = ['17667HYgMfD', '14529430GCTmuG', 'server\x20error', 'SELECT\x20*\x20FROM\x20page\x20WHERE\x20slug\x20=\x20?', '/del', 'content', '6DWmmuu', 'post', 'INSERT\x20INTO\x20page\x20(title,\x20slug,\x20meta,\x20content)\x20VALUES\x20(?,?,?,?)', 'DELETE\x20FROM\x20page\x20WHERE\x20id\x20=\x20?', 'Send\x20required\x20fields', 'Page\x20was\x20added', 'Page\x20was\x20deleted', 'Duplicate\x20slug\x20found', '2808028eGRgTp', '3567968hqYCJk', '/add', 'Router', '728aOOcVy', '/all_blog', '3JfNspv', 'SELECT\x20*\x20FROM\x20page', 'log', 'slug', '../middlewares/user', 'exports', '1979313mUUAXx', 'json', '177712lvwJbi', 'body', '7171525kVuCpF', 'query']; _0x8b78 = function () { return _0x74225c; }; return _0x8b78(); } const router = require('express')[_0x255ae1(0x152)](), promisesql = require('../function/promisesql'), { isvalid } = require(_0x255ae1(0x159)); router['post'](_0x255ae1(0x151), isvalid, async (_0x180b30, _0x36e4c4) => { const _0x471799 = _0x255ae1; try { if (!_0x180b30[_0x471799(0x13e)]['title'] || !_0x180b30[_0x471799(0x13e)]['meta'] || !_0x180b30[_0x471799(0x13e)][_0x471799(0x146)]) return _0x36e4c4[_0x471799(0x15c)]({ 'msg': _0x471799(0x14b) }); const _0x15d00d = await promisesql[_0x471799(0x140)](_0x471799(0x144), [_0x180b30[_0x471799(0x13e)][_0x471799(0x158)]]); if (_0x15d00d['length'] > 0x0) return _0x36e4c4[_0x471799(0x15c)]({ 'msg': _0x471799(0x14e) }); const _0x470f46 = await promisesql[_0x471799(0x140)](_0x471799(0x149), [_0x180b30['body']['title'], _0x180b30[_0x471799(0x13e)][_0x471799(0x158)], _0x180b30[_0x471799(0x13e)]['meta'], _0x180b30[_0x471799(0x13e)]['content']]); _0x36e4c4['json']({ 'success': !![], 'msg': _0x471799(0x14c) }); } catch (_0x2d0dc9) { _0x36e4c4[_0x471799(0x15c)]({ 'err': _0x2d0dc9, 'msg': _0x471799(0x143) }), console[_0x471799(0x157)](_0x2d0dc9); } }), router['get'](_0x255ae1(0x154), async (_0xb7773, _0x57438b) => { const _0x3333ae = _0x255ae1; try { const _0x163240 = await promisesql[_0x3333ae(0x140)](_0x3333ae(0x156), []); _0x57438b[_0x3333ae(0x15c)]({ 'success': !![], 'data': _0x163240 }); } catch (_0x2a23c6) { _0x57438b['json']({ 'err': _0x2a23c6, 'msg': _0x3333ae(0x143) }), console[_0x3333ae(0x157)](_0x2a23c6); } }), router[_0x255ae1(0x148)](_0x255ae1(0x145), isvalid, async (_0x460958, _0x1dcdb8) => { const _0x382a05 = _0x255ae1; try { const _0x4e5427 = await promisesql['query'](_0x382a05(0x14a), [_0x460958['body']['id']]); _0x1dcdb8[_0x382a05(0x15c)]({ 'success': !![], 'msg': _0x382a05(0x14d) }); } catch (_0x2b66b4) { _0x1dcdb8[_0x382a05(0x15c)]({ 'err': _0x2b66b4, 'msg': _0x382a05(0x143) }), console[_0x382a05(0x157)](_0x2b66b4); } }), router[_0x255ae1(0x148)]('/get_by_slug', async (_0x1e8ae7, _0xbf4822) => { const _0x157dd0 = _0x255ae1; try { const _0x2aa918 = await promisesql[_0x157dd0(0x140)]('SELECT\x20*\x20FROM\x20page\x20WHERE\x20slug\x20=\x20?', [_0x1e8ae7[_0x157dd0(0x13e)][_0x157dd0(0x158)]]); if (_0x2aa918['length'] < 0x1) return _0xbf4822[_0x157dd0(0x15c)]({ 'success': ![] }); _0xbf4822[_0x157dd0(0x15c)]({ 'data': _0x2aa918[0x0], 'success': !![] }); } catch (_0xa58aec) { _0xbf4822[_0x157dd0(0x15c)]({ 'err': _0xa58aec, 'msg': _0x157dd0(0x143) }), console[_0x157dd0(0x157)](_0xa58aec); } }), module[_0x255ae1(0x15a)] = router;