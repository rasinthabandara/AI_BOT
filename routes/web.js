function _0x483b(_0x44d752, _0x5b6c3c) { const _0x567a90 = _0x567a(); return _0x483b = function (_0x483b32, _0x134aca) { _0x483b32 = _0x483b32 - 0x18c; let _0x3d6f13 = _0x567a90[_0x483b32]; return _0x3d6f13; }, _0x483b(_0x44d752, _0x5b6c3c); } const _0x3a9297 = _0x483b; (function (_0x2c9844, _0x281453) { const _0x537a9d = _0x483b, _0x1a887d = _0x2c9844(); while (!![]) { try { const _0x4c1eb8 = parseInt(_0x537a9d(0x1d8)) / 0x1 * (-parseInt(_0x537a9d(0x1b9)) / 0x2) + -parseInt(_0x537a9d(0x191)) / 0x3 * (parseInt(_0x537a9d(0x1a5)) / 0x4) + parseInt(_0x537a9d(0x18e)) / 0x5 * (parseInt(_0x537a9d(0x1cc)) / 0x6) + parseInt(_0x537a9d(0x1b6)) / 0x7 * (-parseInt(_0x537a9d(0x192)) / 0x8) + -parseInt(_0x537a9d(0x1c4)) / 0x9 + parseInt(_0x537a9d(0x1f1)) / 0xa * (-parseInt(_0x537a9d(0x1c3)) / 0xb) + parseInt(_0x537a9d(0x1e5)) / 0xc; if (_0x4c1eb8 === _0x281453) break; else _0x1a887d['push'](_0x1a887d['shift']()); } catch (_0x285bbd) { _0x1a887d['push'](_0x1a887d['shift']()); } } }(_0x567a, 0x2d3d2)); const router = require(_0x3a9297(0x1d4))['Router'](), promisesql = require(_0x3a9297(0x1dc)), bcrypt = require(_0x3a9297(0x1ba)), { isvalid } = require(_0x3a9297(0x1ac)), { createWriteStream } = require('fs'), { pipeline } = require(_0x3a9297(0x1c9)), fetch = require(_0x3a9297(0x1b5)), extract = require(_0x3a9297(0x19e)), fs = require('fs'), Importer = require(_0x3a9297(0x1bb)); router['get'](_0x3a9297(0x19a), async (_0x5acc35, _0x3b1cda) => { const _0x543a6b = _0x3a9297; function _0x42460e(_0x181758) { return new Promise(_0x28947f => { const _0x347273 = _0x483b; fs[_0x347273(0x1a0)](_0x181758) ? _0x28947f(!![]) : _0x28947f(![]); }); } const _0x1cda27 = await _0x42460e(__dirname + _0x543a6b(0x1ed)); _0x3b1cda[_0x543a6b(0x1c2)](0xc8)[_0x543a6b(0x1bf)]({ 'install': !![], 'install_status': _0x1cda27 ? !![] : ![] }); }), router[_0x3a9297(0x193)](_0x3a9297(0x19a), async (_0x39b790, _0x10dffb) => { const _0x471675 = _0x3a9297; try { const _0x468e4b = 'https://verify-whatsham.oneoftheprojects.com/api/verify/download_chatham?token=' + _0x39b790[_0x471675(0x1b1)][_0x471675(0x1de)], _0x491f6f = async (_0x48fea2, _0x26719a) => pipeline((await fetch(_0x48fea2))[_0x471675(0x1b1)], createWriteStream(_0x26719a)); await _0x491f6f(_0x468e4b, __dirname + _0x471675(0x1bc)), await extract(__dirname + _0x471675(0x1bc), { 'dir': __dirname + _0x471675(0x1ef) }), fs['unlinkSync'](__dirname + '/../client/public.zip'); const _0x395c08 = new Importer({ 'host': process[_0x471675(0x1af)][_0x471675(0x1d0)], 'user': process['env'][_0x471675(0x196)], 'password': process['env'][_0x471675(0x1cd)], 'database': process[_0x471675(0x1af)][_0x471675(0x196)] }); await _0x395c08[_0x471675(0x197)](__dirname + _0x471675(0x1a2)), _0x10dffb[_0x471675(0x1bf)]({ 'success': !![] }); } catch (_0x50a45b) { console['log'](_0x50a45b), _0x10dffb[_0x471675(0x1bf)]({ 'success': ![] }); } }), router[_0x3a9297(0x199)]('/get_web', async (_0x4941a1, _0x4f8810) => { const _0x399d94 = _0x3a9297; try { const _0x454086 = await promisesql[_0x399d94(0x1a4)](_0x399d94(0x1be), []); _0x4f8810[_0x399d94(0x1bf)]({ 'data': _0x454086[0x0], 'success': !![] }); } catch (_0x597b82) { console['log'](_0x597b82), _0x4f8810['json']({ 'err': _0x597b82, 'msg': _0x399d94(0x1a9) }); } }), router[_0x3a9297(0x193)](_0x3a9297(0x1f0), isvalid, async (_0x1713df, _0x108d93) => { const _0x4ceb33 = _0x3a9297; try { const _0x1cb04e = _0x1713df['body']; await promisesql['query'](_0x4ceb33(0x1eb), [_0x1cb04e[_0x4ceb33(0x1d3)], _0x1cb04e['rz_key'], _0x1cb04e['rz_id'], _0x1cb04e[_0x4ceb33(0x1d7)], _0x1cb04e[_0x4ceb33(0x1ec)], _0x1cb04e[_0x4ceb33(0x1c8)], _0x1cb04e[_0x4ceb33(0x1a3)], _0x1cb04e['paypal_secret'], _0x1cb04e[_0x4ceb33(0x1e4)], _0x1cb04e[_0x4ceb33(0x1e7)], _0x1cb04e[_0x4ceb33(0x1b7)], _0x1cb04e[_0x4ceb33(0x18d)], _0x1cb04e[_0x4ceb33(0x1e3)]]), _0x108d93[_0x4ceb33(0x1bf)]({ 'msg': _0x4ceb33(0x1c5), 'success': !![] }); } catch (_0x30cba1) { console[_0x4ceb33(0x194)](_0x30cba1), _0x108d93[_0x4ceb33(0x1bf)]({ 'err': _0x30cba1, 'msg': 'Server\x20error' }); } }), router[_0x3a9297(0x193)]('/get_user', async (_0x2b6602, _0x43f74d) => { const _0x360bb2 = _0x3a9297; try { const _0x1ed43f = await promisesql[_0x360bb2(0x1a4)](_0x360bb2(0x195), [_0x2b6602[_0x360bb2(0x1b1)][_0x360bb2(0x1a7)]]); if (_0x1ed43f[_0x360bb2(0x1d7)] < 0x1) return _0x43f74d[_0x360bb2(0x1bf)]({ 'msg': 'User\x20not\x20found' }); else _0x43f74d['json']({ 'data': _0x1ed43f[0x0], 'success': !![] }); } catch (_0x1eb3b3) { console[_0x360bb2(0x194)](_0x1eb3b3), _0x43f74d[_0x360bb2(0x1bf)]({ 'err': _0x1eb3b3, 'msg': 'Server\x20error' }); } }), router[_0x3a9297(0x193)](_0x3a9297(0x1d5), isvalid, async (_0x22bc5f, _0x47037a) => { const _0x5b0815 = _0x3a9297; try { if (_0x22bc5f[_0x5b0815(0x1ae)]) { if (_0x22bc5f['files'][_0x5b0815(0x1ca)] !== undefined) { const _0x52d68a = _0x22bc5f[_0x5b0815(0x1ae)][_0x5b0815(0x1ca)], _0x54484f = ('' + Math['random']())[_0x5b0815(0x1e2)](0x2, 0x7) + Date['now']() + _0x52d68a[_0x5b0815(0x1ee)]; _0x52d68a['mv'](__dirname + _0x5b0815(0x1e8) + _0x54484f, _0x12d2f7 => { const _0x18690c = _0x5b0815; if (_0x12d2f7) return console['log'](_0x12d2f7), _0x47037a[_0x18690c(0x1bf)]({ 'err': _0x12d2f7 }); }); const _0x5d0b22 = await promisesql[_0x5b0815(0x1a4)](_0x5b0815(0x1a1), [_0x22bc5f[_0x5b0815(0x1b1)][_0x5b0815(0x1aa)], _0x22bc5f[_0x5b0815(0x1b1)]['home_video'], _0x22bc5f[_0x5b0815(0x1b1)]['message_balance'], _0x22bc5f['body'][_0x5b0815(0x1e7)], _0x54484f, _0x22bc5f['body'][_0x5b0815(0x1cf)]]); _0x47037a[_0x5b0815(0x1bf)]({ 'success': !![], 'msg': _0x5b0815(0x1c5) }); } } else { const _0x15e8fa = await promisesql[_0x5b0815(0x1a4)](_0x5b0815(0x19f), [_0x22bc5f[_0x5b0815(0x1b1)][_0x5b0815(0x1aa)], _0x22bc5f['body']['home_video'], _0x22bc5f['body']['message_balance'], _0x22bc5f[_0x5b0815(0x1b1)][_0x5b0815(0x1e7)], _0x22bc5f['body'][_0x5b0815(0x1cf)]]); _0x47037a[_0x5b0815(0x1bf)]({ 'success': !![], 'msg': _0x5b0815(0x1c5) }); } } catch (_0x36d353) { console[_0x5b0815(0x194)](_0x36d353), _0x47037a[_0x5b0815(0x1bf)]({ 'err': _0x36d353, 'msg': _0x5b0815(0x1a9) }); } }), router['post'](_0x3a9297(0x19c), async (_0xf693e, _0x1b0947) => { const _0x44587f = _0x3a9297; try { if (!_0xf693e[_0x44587f(0x1b1)]['email']) return _0x1b0947[_0x44587f(0x1bf)]({ 'msg': _0x44587f(0x19b) }); await promisesql[_0x44587f(0x1a4)](_0x44587f(0x1c6), [_0xf693e[_0x44587f(0x1b1)][_0x44587f(0x1e9)]]), _0x1b0947[_0x44587f(0x1bf)]({ 'success': !![], 'msg': _0x44587f(0x18f) }); } catch (_0xfb6b1a) { console['log'](_0xfb6b1a), _0x1b0947[_0x44587f(0x1bf)]({ 'err': _0xfb6b1a, 'msg': _0x44587f(0x1a9) }); } }), router[_0x3a9297(0x199)](_0x3a9297(0x1ab), isvalid, async (_0x32b4ef, _0x137203) => { const _0x3097ab = _0x3a9297; try { const _0x44025d = await promisesql[_0x3097ab(0x1a4)](_0x3097ab(0x1d2), []); _0x137203[_0x3097ab(0x1bf)]({ 'success': !![], 'data': _0x44025d }); } catch (_0x46cff2) { console['log'](_0x46cff2), _0x137203['json']({ 'err': _0x46cff2, 'msg': _0x3097ab(0x1a9) }); } }), router[_0x3a9297(0x193)](_0x3a9297(0x1ad), isvalid, async (_0x792002, _0x4e0422) => { const _0x4fc0fd = _0x3a9297; try { const _0x172253 = await promisesql['query'](_0x4fc0fd(0x1d1), []); _0x4e0422[_0x4fc0fd(0x1bf)]({ 'success': !![], 'msg': 'Newsletter\x20was\x20cleared' }); } catch (_0xe9127b) { console['log'](_0xe9127b), _0x4e0422[_0x4fc0fd(0x1bf)]({ 'err': _0xe9127b, 'msg': 'Server\x20error' }); } }), router['get']('/get_dash', async (_0x560ffc, _0x5439e6) => { const _0x5e53b6 = _0x3a9297; try { const _0x473545 = await promisesql[_0x5e53b6(0x1a4)](_0x5e53b6(0x1c7), []); let _0x5a0e57 = 0x0, _0x588952 = 0x0; _0x473545[_0x5e53b6(0x1dd)](_0x3d3e80 => { const _0x85bc9d = _0x5e53b6; _0x3d3e80['plan'] && JSON[_0x85bc9d(0x1b3)](_0x3d3e80[_0x85bc9d(0x198)])[_0x85bc9d(0x1e6)] > 0x0 ? _0x588952++ : _0x5a0e57++; }); const _0x2cf6d8 = _0x5a0e57 / _0x473545[_0x5e53b6(0x1d6)] * 0x64, _0xd27742 = _0x588952 / _0x473545['length'] * 0x64, _0x2b3dfe = await promisesql[_0x5e53b6(0x1a4)](_0x5e53b6(0x1a6), []), _0x89a8db = _0x2b3dfe[_0x5e53b6(0x1d6)], _0x265ba8 = _0x2b3dfe[_0x5e53b6(0x1b2)]((_0x538040, _0x19c16b) => { const _0x1e8bf6 = _0x5e53b6; return _0x538040[_0x19c16b[_0x1e8bf6(0x1c2)]] = _0x538040[_0x19c16b[_0x1e8bf6(0x1c2)]] ? _0x538040[_0x19c16b[_0x1e8bf6(0x1c2)]] + 0x1 : 0x1, _0x538040; }, {}), _0x21bb52 = Object[_0x5e53b6(0x1ce)](_0x265ba8)[_0x5e53b6(0x1b2)]((_0x5e0d3f, [_0x1cd75f, _0x46913a]) => { const _0x17196a = _0x5e53b6; return _0x5e0d3f[_0x1cd75f] = (_0x46913a / _0x89a8db * 0x64)[_0x17196a(0x190)](0x2), _0x5e0d3f; }, {}), _0x1b361c = await promisesql[_0x5e53b6(0x1a4)](_0x5e53b6(0x1be), []), _0x416b72 = _0x1b361c[0x0][_0x5e53b6(0x1cb)], _0x35186d = await promisesql[_0x5e53b6(0x1a4)](_0x5e53b6(0x1d2), []); _0x5439e6[_0x5e53b6(0x1bf)]({ 'freeUser': '' + Math[_0x5e53b6(0x1df)](_0x2cf6d8), 'paidUser': '' + Math['round'](_0xd27742), 'logsPrecentage': _0x21bb52, 'newsletter': _0x35186d[_0x5e53b6(0x1d6)], 'balance': _0x416b72, 'success': !![] }); } catch (_0x3deec3) { console[_0x5e53b6(0x194)](_0x3deec3), _0x5439e6['json']({ 'err': _0x3deec3, 'msg': 'Server\x20error' }); } }), router[_0x3a9297(0x199)](_0x3a9297(0x1b4), isvalid, async (_0x69ef4b, _0x34753b) => { const _0x5545a9 = _0x3a9297; try { const _0x532b3d = await promisesql[_0x5545a9(0x1a4)](_0x5545a9(0x1be), []); _0x34753b[_0x5545a9(0x1bf)]({ 'telegram': _0x532b3d[0x0][_0x5545a9(0x1d9)], 'facebook': _0x532b3d[0x0]['facebook_status'], 'whatsapp': _0x532b3d[0x0][_0x5545a9(0x19d)] }); } catch (_0x535964) { console[_0x5545a9(0x194)](_0x535964), _0x34753b['json']({ 'err': _0x535964, 'msg': _0x5545a9(0x1a9) }); } }), router['post'](_0x3a9297(0x1db), isvalid, async (_0x3ed39c, _0x427533) => { const _0xc922b = _0x3a9297; try { await promisesql[_0xc922b(0x1a4)](_0xc922b(0x1e1), [_0x3ed39c['body'][_0xc922b(0x1b0)]]), _0x427533[_0xc922b(0x1bf)]({ 'success': !![], 'msg': _0xc922b(0x1ea) + (_0x3ed39c[_0xc922b(0x1b1)]['bot_status'] == '0' ? _0xc922b(0x1e0) : 'on') }); } catch (_0x40ba46) { console[_0xc922b(0x194)](_0x40ba46), _0x427533[_0xc922b(0x1bf)]({ 'err': _0x40ba46, 'msg': _0xc922b(0x1a9) }); } }), router[_0x3a9297(0x193)](_0x3a9297(0x1bd), isvalid, async (_0x551bb3, _0x2b6322) => { const _0x1767d8 = _0x3a9297; try { await promisesql[_0x1767d8(0x1a4)](_0x1767d8(0x18c), [_0x551bb3['body'][_0x1767d8(0x1b0)]]), _0x2b6322[_0x1767d8(0x1bf)]({ 'success': !![], 'msg': _0x1767d8(0x1ea) + (_0x551bb3[_0x1767d8(0x1b1)][_0x1767d8(0x1b0)] == '0' ? _0x1767d8(0x1e0) : 'on') }); } catch (_0x3641ec) { console['log'](_0x3641ec), _0x2b6322['json']({ 'err': _0x3641ec, 'msg': 'Server\x20error' }); } }), router['post'](_0x3a9297(0x1c1), isvalid, async (_0x423739, _0x1b4bd0) => { const _0x1a5a18 = _0x3a9297; try { await promisesql[_0x1a5a18(0x1a4)](_0x1a5a18(0x1b8), [_0x423739[_0x1a5a18(0x1b1)][_0x1a5a18(0x1a8)], _0x423739['body']['tele_bot_link'], _0x423739[_0x1a5a18(0x1b1)][_0x1a5a18(0x1da)]]), _0x1b4bd0[_0x1a5a18(0x1bf)]({ 'msg': _0x1a5a18(0x1c0), 'success': !![] }); } catch (_0x4ea688) { console[_0x1a5a18(0x194)](_0x4ea688), _0x1b4bd0['json']({ 'err': _0x4ea688, 'msg': _0x1a5a18(0x1a9) }); } }), module['exports'] = router; function _0x567a() { const _0x27801c = ['UPDATE\x20web\x20SET\x20facebook_status\x20=\x20?', 'paystack_public', '135Gvxxsw', 'You\x20email\x20was\x20added', 'toFixed', '6QZMlWe', '24BmVITu', 'post', 'log', 'SELECT\x20*\x20FROM\x20user\x20WHERE\x20mobile\x20=\x20?\x20', 'DBUSER', 'import', 'plan', 'get', '/webhook', 'Email\x20was\x20required.', '/add_newsletter', 'whatsapp_status', 'extract-zip', 'UPDATE\x20web\x20SET\x20app_name\x20=\x20?,\x20home_video\x20=\x20?,message_balance\x20=\x20?,\x20currency_symbol\x20=\x20?,\x20theme_color\x20=\x20?\x20', 'existsSync', 'UPDATE\x20web\x20SET\x20app_name\x20=\x20?,\x20home_video\x20=\x20?,\x20message_balance\x20=\x20?,\x20currency_symbol\x20=\x20?,\x20logo\x20=\x20?,\x20theme_color\x20=\x20?\x20', '/../db/chatham_install.sql', 'paypal_client_id', 'query', '250840lRbnSh', 'SELECT\x20*\x20FROM\x20logs', 'mobile', 'fb_bot_link', 'Server\x20error', 'app_name', '/get_newsletter', '../middlewares/user', '/clear_newsletter', 'files', 'env', 'bot_status', 'body', 'reduce', 'parse', '/bot_status', 'node-fetch', '849947UkOyHE', 'paystack_active', 'UPDATE\x20web\x20SET\x20fb_bot_link\x20=\x20?,\x20tele_bot_link\x20=\x20?,\x20wa_bot_link\x20=\x20?', '79274Hbmkcp', 'bcrypt', 'mysql-import', '/../client/public.zip', '/update_fb_bot', 'SELECT\x20*\x20FROM\x20web', 'json', 'Settings\x20updated', '/update_bot_links', 'status', '4906xzHYjL', '1206180Ubsrse', 'Settings\x20was\x20updated', 'INSERT\x20INTO\x20newsletter\x20(email)\x20VALUES\x20(?)', 'SELECT\x20*\x20FROM\x20user', 'paypal_active', 'stream/promises', 'file', 'message_balance', '38298CcvgVG', 'DBPASSWORD', 'entries', 'theme_color', 'DBHOST', 'DELETE\x20FROM\x20newsletter', 'SELECT\x20*\x20FROM\x20newsletter', 'rz_active', 'express', '/update_set', 'length', 'offline_active', '9BeAaRY', 'telegram_status', 'wa_bot_link', '/update_wa_bot', '../function/promisesql', 'forEach', 'token', 'round', 'off', 'UPDATE\x20web\x20SET\x20whatsapp_status\x20=\x20?', 'substring', 'paystack_key', 'exchange_rate', '15608244ryqVDh', 'price', 'currency_symbol', '/../client/public/images/', 'email', 'Bot\x20was\x20turned\x20', 'UPDATE\x20web\x20SET\x20rz_active\x20=\x20?,\x20rz_key\x20=\x20?,\x20rz_id\x20=\x20?,\x20offline_active\x20=\x20?,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20offline_msg\x20=\x20?,\x20paypal_active\x20=\x20?,\x20paypal_client_id\x20=\x20?,\x20paypal_secret\x20=\x20?,\x20exchange_rate\x20=\x20?,\x20currency_symbol\x20=\x20?,\x20paystack_active\x20=\x20?,\x20paystack_public\x20=\x20?,\x20paystack_key\x20=?\x20', 'offline_msg', '/../client/public', 'name', '/../client/public/', '/update_payment', '6890onukMK']; _0x567a = function () { return _0x27801c; }; return _0x567a(); }